<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Sistema de Cortesias</title>
<!--  <link rel="stylesheet" href="style.css" /> -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
</head>
<body>
  <p class="fs-1 fw-bold shadow-lg rounded">Sistema de Cortesias</p>

  <div id="loginSection" class="shadow-lg p-3 mb-5 bg-body-tertiary rounded">
    <h2>Login</h2>
    <label>Email: <input type="email" id="loginEmail" /></label><br />
    <label>Senha: <input type="password" id="loginSenha" /></label><br />
    <button class="btn btn-primary" id="btnLogin" onclick="realizarLogin()">Entrar</button>
    <div id="loginMensagem" style="color:red; margin-top:10px;"></div>
  </div>

  <!-- Menus principais -->
<div id="menuPrincipal" class="shadow-lg p-3 mb-5 bg-body-tertiary rounded" style="display: none;">
  <h2>Bem-vindo!</h2>
  <button class="btn btn-danger" onclick="logout()">Sair</button>
  <h2></h2>
  <nav>
    <button class="btn btn-primary" id="btnGerenciarEventos" onclick="toggleSubmenu('menuEventos')" style="display: none; margin: 0px 0 5px 0px;">Gerenciar Eventos</button>
    <button class="btn btn-primary" id="btnGerenciarPessoas" onclick="toggleSubmenu('menuPessoas')" style="display: none; margin: 0px 0 5px 0px;">Gerenciar Pessoas</button>
    <button class="btn btn-primary" id="btnGerenciarCortesias" onclick="toggleSubmenu('menuCortesias')" style="display: none; margin: 0px 0 5px 0px;">Gerenciar Cortesias</button>
    <button class="btn btn-danger" id="btnGerenciarUsuarios" onclick="toggleSubmenu('menuUsuarios')" style="display: none; margin: 0px 0 5px 0px;">Gerenciar Usuarios</button>
  </nav>
</div>
  

  <!-- Submenus -->
  <div id="menuEventos" class="submenu" style="display: none;">
    <h3>Gerenciar Eventos</h3>
    <button onclick="mostrar('cadastroEvento')">Cadastrar Evento</button>
    <button onclick="mostrar('consultaEvento')">Consultar Evento</button>
  </div>

  <div id="menuPessoas" class="submenu" style="display: none;">
    <h3>Gerenciar Pessoas</h3>
    <button onclick="mostrar('cadastroPessoa')">Cadastrar Pessoa</button>
    <button onclick="mostrar('listarPessoas')">Listar Pessoas</button>
  </div>

  <div id="menuCortesias" class="submenu" style="display: none;">
    <h3>Gerenciar Cortesias</h3>
    <button onclick="mostrar('solicitarCortesia')">Solicitar Cortesia</button>
    <button onclick="mostrar('validarCortesia')">Validar Cortesia</button>
    <button onclick="mostrar('consultaCortesiasEvento')">Consultar Cortesia Evento</button>
  </div>

  <div id="menuUsuarios" class="submenu" style="display: none;">
    <h3>Cadastrar Novo Usuário</h3>
    <label>Email: <input type="email" id="novoUsuarioEmail"></label><br>
    <label>Senha: <input type="password" id="novoUsuarioSenha"></label><br>
    <label>Permissões:</label><br>
    <label><input type="checkbox" class="chkPermissao" value="ADMIN"> ADMIN</label><br>
    <label><input type="checkbox" class="chkPermissao" value="GERENTE_EVENTOS"> Gerente de Eventos</label><br>
    <label><input type="checkbox" class="chkPermissao" value="GERENTE_PESSOAS"> Gerente de Pessoas</label><br>
    <label><input type="checkbox" class="chkPermissao" value="GERENTE_CORTESIAS"> Gerente de Cortesias</label><br>
    <button onclick="cadastrarNovoUsuario()">Cadastrar</button>
    <div id="resCadastroUsuario" style="margin-top:10px;"></div>
  </div>

  <!-- Cadastro de Evento -->
  <section id="cadastroEvento">
    <h2>Cadastro de Evento</h2>
    <label>Nome do Evento: <input id="nomeEvento" placeholder="Nome do Evento"></label>
    <label>Data do Evento: <input id="dataEvento" type="date"></label>
    <label>Local do Evento: <input id="localEvento" placeholder="Local"></label>
    <label>Responsável do Evento: <input id="responsavelEvento" placeholder="Responsável"></label>
    <label>Quantidade Cortesias: <input id="quantidadeCortesias" type="number" placeholder="Quantidade de Cortesias"></label>
    <button id="btnCadastrarEvento" onclick="cadastrarEvento()">Cadastrar</button>
    <div class="resultado" id="resCadastroEvento"></div>
  </section>

  <!-- Consulta de Evento -->
<section id="consultaEvento" style="display:none;">
  <h2>Consultar Eventos</h2>
  <input id="filtroNomeEvento" placeholder="Filtrar por nome">
  <input id="filtroDataEvento" type="date" placeholder="Filtrar por data">
  <input id="filtroLocalEvento" placeholder="Filtrar por local">
  <input id="filtroResponsavelEvento" placeholder="Filtrar por responsável">
  <button onclick="buscarEventos()">Buscar</button>
  <div id="tabelaEventos" class="resultado"></div>
</section>

<section id="editarEvento" style="display:none;">
  <h2>Editar Evento</h2>
  <input id="editEventoId" type="hidden">
  <input id="editNomeEvento" placeholder="Nome">
  <input id="editDataEvento" type="date">
  <input id="editLocalEvento" placeholder="Local">
  <input id="editResponsavelEvento" placeholder="Responsável">
  <input id="editQtdCortesiasEvento" type="number" placeholder="Quantidade de cortesias">
  <button id="btnEditarEvento" onclick="salvarEdicaoEvento()">Salvar Alterações</button>
  <div class="resultado" id="resEditarEvento"></div>
</section>

  <!-- Cadastro de Pessoa -->
  <section id="cadastroPessoa">
    <h2>Cadastro de Pessoa</h2>
    <input id="nomePessoa" placeholder="Nome Completo">
    <input id="cpfPessoa" placeholder="CPF (somente números)">
    <input id="dataNascimentoPessoa" type="date">
    <input id="cidadePessoa" placeholder="Cidade">
    <input id="telefonePessoa" placeholder="Telefone">
    <input id="emailPessoa" placeholder="Email">
    <button id="btnCadastrarPessoa" onclick="cadastrarPessoa()">Cadastrar</button>
    <div class="resultado" id="resCadastroPessoa"></div>
  </section>

	<section id="listarPessoas" style="display:none;">
	  <h2>Listar Pessoas</h2>
	  <input id="filtroNome" placeholder="Filtrar por nome">
	  <input id="filtroCidade" placeholder="Filtrar por cidade">
	  <input id="filtroCPF" placeholder="Filtrar por CPF">
	  <button onclick="buscarPessoas()">Buscar</button>
	  <div id="tabelaPessoas" class="resultado"></div>
	</section>

	<section id="editarPessoa" style="display:none;">
	  <h2>Editar Pessoa</h2>
	  <input id="editId" type="hidden">
	  <input id="editNome" placeholder="Nome">
	  <input id="editCpf" placeholder="CPF">
	  <input id="editDataNascimento" type="date">
	  <input id="editCidade" placeholder="Cidade">
	  <input id="editTelefone" placeholder="Telefone">
	  <input id="editEmail" placeholder="Email">
	  <button id="btnEditarPessoa" onclick="salvarEdicaoPessoa()">Salvar Alterações</button>
	  <div class="resultado" id="resEditarPessoa"></div>
	</section>

  <!-- Solicitar Cortesia -->
  <section id="solicitarCortesia">
    <h2>Solicitar Cortesia</h2>
<!--    <input id="eventoIdSolicitar" type="number" placeholder="ID do Evento"> -->
    <select id="eventoIdSolicitar"></select>
    <input id="cpfSolicitar" placeholder="CPF da Pessoa">
    <button onclick="solicitarCortesia()">Solicitar</button>
    <div class="resultado" id="resSolicitarCortesia"></div>
  </section>

  <!-- Validar Cortesia -->
  <section id="validarCortesia">
    <h2>Validar Cortesia</h2>
    <input id="eventoIdValidar" type="number" placeholder="ID do Evento">
    <input id="codigoCortesia" placeholder="Código da Cortesia">
    <button onclick="validarCortesia()">Validar</button>
    <div class="resultado" id="resValidarCortesia"></div>
  </section>

  <!-- Listar Cortesia -->
  <section id="consultaCortesiasEvento" style="display:none;">
    <h2>Consultar Cortesias de um Evento</h2>
<!--    Evento ID: <input id="eventoIdConsultaCortesias" type="number"> -->
	<label for="eventosSelectCortesia">Selecione um evento:</label>
	  <select id="eventosSelectCortesia"></select>
    <label>
      Filtro:
      <select id="filtroResgate">
        <option value="">Todas</option>
        <option value="true">Resgatadas</option>
        <option value="false">Não resgatadas</option>
      </select>
    </label>
    <button onclick="listarCortesiasEvento()">Listar Cortesias</button>
    <button onclick="exportarCSV()">Exportar CSV</button>
    <div id="resConsultaCortesias" class="resultado"></div>
  </section>

  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.min.js" integrity="sha384-RuyvpeZCxMJCqVUGFI0Do1mQrods/hhxYlcVfGPOfQtPJh0JCw12tUAZ/Mv10S7D" crossorigin="anonymous"></script>
  <script src="scripts.js"></script>
</body>
</html>
